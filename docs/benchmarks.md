# Benchmarks

The following benchmarks demonstrate the performance of the `pytket-custatevec` backend compared to other statevector simulators within the **pytket ecosystem**.

!!! quote "Comparison Scope"
    These tests compare **`pytket-custatevec`** against **`pytket-qiskit`** and **`pytket-qulacs`**.

    All simulations are performed via the abstract `pytket` Backend interface to demonstrate the speedup available to users simply by switching their backend instance.

## Methodology

### The Circuit
We use a **Random Line Circuit** to ensure a fair stress test. This structure creates a highly entangled state that is difficult to simplify or optimize trivially.

* **Structure:** Linear connectivity (1D chain).
* **Depth:** Fixed at **10 layers**.
* **Gates:** Random `TK1` (single qubit) gates followed by `CX` (two-qubit) gates between neighbors.

```python
def random_line_circuit(n_qubits: int, layers: int) -> Circuit:
    c = Circuit(n_qubits)
    for i in range(layers):
        # 1. Random Single Qubit Rotations
        for q in range(n_qubits):
            c.TK1(np.random.rand(), np.random.rand(), np.random.rand(), q)

        # 2. Linear Entanglement (Alternating Even/Odd links)
        offset = np.mod(i, 2)
        qubit_pairs = [[c.qubits[i], c.qubits[i+1]] for i in range(offset, n_qubits-1, 2)]

        for pair in qubit_pairs:
            c.CX(pair[0], pair[1])
    return c
```

## 1. Statevector Simulation

This benchmark measures the time required to calculate the **full statevector** ($2^n$ complex amplitudes).

<div style="border: 1px solid rgba(128,128,128,0.2); border-radius: 8px; padding: 10px; margin-bottom: 2rem; background: transparent;">
  <iframe src="../assets/benchmark_sv.html" width="100%" height="600px" frameborder="0" scrolling="no"></iframe>
</div>

## 2. Shot-based Sampling

This benchmark measures the time to simulate measurement outcomes (**1000 shots**) for the same random circuits.

<div style="border: 1px solid rgba(128,128,128,0.2); border-radius: 8px; padding: 10px; background: transparent;">
  <iframe src="../assets/benchmark_shots.html" width="100%" height="600px" frameborder="0" scrolling="no"></iframe>
</div>

---

## Environment

The results above were auto-generated by our CI pipeline using the following environment:

--8<-- "docs/assets/benchmark_env.md"

## Reproduce this Benchmark

You can find the source code for these benchmarks in our repository:

[:material-file-code: View Benchmark Script](https://github.com/quantinuum/pytket-custatevec/blob/main/benchmarks/benchmark.py){ .md-button }
